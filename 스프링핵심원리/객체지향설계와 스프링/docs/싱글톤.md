- 웹 어플리케이션에서 보통 사용자는 여러명이다.
- 사용자가 증가할 때마다 AppConfig를 Di 컨테이너가 여러개 생성되면 얼마나 비효율적일까
- 당연히 싱글톤이 사용된다.

## 싱글톤 패턴

```java
public class SingletonService {

    private static final SingletonService instance = new SingletonService();

    public static SingletonService getInstance() {
        return instance;
    }

    // 바깥에서 SingletonService를 new로 생성하지 못하게 private로 생성자 설정
    private SingletonService() {
    }

    public void logic() {
        System.out.println("싱글톤 객체 로직 x호출");
    }
}

```

### 싱글톤 패턴의 문제점

- 의존 관계상 클라이언트가 구체 클래스에 의존한다. → DIP 위
    - `getInstance().메서드()`  이런 식으로 클라이언트 단에서 구체클래스에 의존
- 클라이언가 구체 클래스에 의존해서 OCP 원칙을 위반할 가능성이 높다.
- 테스트하기 어렵다.
- 내부 속성을 변경하거나 초기화하기 어렵다.
- private 생성자로 자식 클래스 만들기가 어렵다.
- 결론적으로 유연성이 떨어진다.
- 안티패턴으로 불리기도 한다.